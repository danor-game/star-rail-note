import{_ as w,c as f,r as k,o as x,v as S,a,b as i,d as e,e as s,y,u as p,m as c,F as G,p as P,n as M}from"./index-aSgyGGsL.js";import{M as l}from"./meta-Bit9qb41.js";const N=o=>(P("data-v-5ce90a5c"),o=o(),M(),o),T={key:0},B=N(()=>e("p-header",{_unknown:""},"?",-1)),C={count:""},j={key:1},F=["src"],H=["rarity"],V={key:0},z={key:0},D={count:""},E={"count-sm":"",class:"ml-1"},L={key:1},O={count:""},R={key:2},q=["missed"],A=["src"],J={__name:"gacha-item",props:{type:{type:String,default:"log"},typeGacha:{type:[String],default:"11"},log:{type:Object,default:null},countInvest:{type:[String,Number],default:0}},setup(o){const t=o,$={"count-invest-next":"当期","count-invest-prev":"上期"},h=f(()=>l.items$id[t.log?.item]),_=f(()=>h.value?.rarity),g=k(null),d=k(null),I=(r,n)=>{d.value=l.items$id[r],S(n.target,{theme:"nob",placement:"top-start",content:g.value,allowHTML:!0,interactive:!0,animation:"",duration:[0,0],offset:[1,8],onHidden:u=>u.destroy(),appendTo:n.target.parentNode}).show()};x(()=>S(document.body,{content:g.value}).destroy());const b=(r,n,u)=>{const m=u,v=1-m;return`RGB(${[Math.round(r[0]*m+n[0]*v),Math.round(r[1]*m+n[1]*v),Math.round(r[2]*m+n[2]*v)].join(",")})`};return(r,n)=>(a(),i(G,null,[t.type=="count-invest-next"||t.type=="count-invest-prev"?(a(),i("p-gacha-item",T,[B,e("p-name",null,[e("span",null,s($[t.type])+"已垫 ",1)]),e("p-progress",null,[e("p-progress-text",null,[e("span",C,s(String(o.countInvest).padStart(2," ")),1)]),o.countInvest?(a(),i("p-value-bar",{key:0,invest:"",style:y({width:`${100*(o.countInvest??0)/(p(l).typesPoolGacha$id[o.typeGacha]?.minimum5??90)}%`})},null,4)):c("",!0)])])):c("",!0),t.type=="log"&&o.log?(a(),i("p-gacha-item",j,[e("p-header",{onMouseenter:n[0]||(n[0]=u=>I(t.log.item,u))},[e("img",{src:`./image/item/${t.log.item}.png`},null,8,F)],32),e("p-name",{rarity:_.value,onMouseenter:n[1]||(n[1]=u=>I(t.log.item,u))},s(h.value?.name),41,H),_.value==5?(a(),i("p-progress",V,[t.log.countInvest&&t.log.countInvestPrev?(a(),i("p-progress-text",z,[e("span",D,s(String(t.log.countInvest).padStart(2," ")),1),e("span",E,s(t.log.countInvestPrev)+"+"+s(t.log.countInvest-t.log.countInvestPrev),1)])):t.log.countInvest?(a(),i("p-progress-text",L,[e("span",O,s(String(t.log.countInvest).padStart(2," ")),1)])):c("",!0),t.log.missed?(a(),i("p-missed-text",R,"歪")):c("",!0),e("p-value-bar",{missed:r.brop(t.log.missed),style:y({width:`${100*(t.log.countInvest??0)/(p(l).typesPoolGacha$id[t.log.type]?.minimum5??90)}%`,backgroundColor:t.log.missed?null:b([250,204,21],[52,211,153],(t.log.countInvest??0)/(p(l).typesPoolGacha$id[t.log.type]?.minimum5??90))})},null,12,q),t.log.countInvestPrev?(a(),i("p-value-bar",{key:3,prev:"",style:y({width:`${100*(t.log.countInvestPrev??0)/(p(l).typesPoolGacha$id[t.log.type]?.minimum5??90)}%`})},null,4)):c("",!0)])):c("",!0),e("p-tips-item",{ref_key:"domTipsItem",ref:g},[e("img",{src:`./image/item/${d.value?.id}.png`},null,8,A),e("p-info",null,s(d.value?.name)+" "+s(p(l).paths$id[d.value?.path]?.name)+" "+s(p(l).elements$id[d.value?.element]?.name),1)],512)])):c("",!0)],64))}},W=w(J,[["__scopeId","data-v-5ce90a5c"]]);export{W as default};
